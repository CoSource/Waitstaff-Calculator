<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="http://getbootstrap.com/favicon.ico">

    <title>Waitstaff Calculator</title>

    <!-- Bootstrap core CSS -->
    <link href="style/bootstrap.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="style/grid.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body ng-app="waitstaff">
    <div class="container" ng-controller="mainController">

      <div class="page-header">
        <h1>Waitstaff Calculator</h1>
      </div>

      <div class="row">
        <div class="col-md-6" ng-controller="mealDetailsController">
			<h3>Enter the Meal Details</h3>
            <form name="formMealDetails" novalidate  ng-submit="submit()">
			    <p><label for="base-meal-price">Base Meal Price: $</label><input type="number" name="base-meal-price" ng-model="meal.baseMealPrice" ng-pattern="/^[0-9]{1,7}$/" required /></p>
			    <p><label for="tax-rate">Tax Rate: %</label><input type="number" name="tax-rate" ng-model="meal.taxRate" ng-pattern="/^[0-9]{1,7}$/" required /></p>
                <p><label for="tip-percentage">Tip Percentage: %</label><input type="number" name="tip-percentage" ng-model="meal.tipPercentage" ng-pattern="/^[0-9]{1,7}$/" required  /></p>
                <input type="submit" value="submit" /><button type="button" ng-click="cancel()">Cancel</button>
                <span class="error" ng-if="formMealDetails.$submitted && formMealDetails.base-meal-price.$error.required">Base meal price is required</span>           
                <span class="error" ng-if="formMealDetails.$submitted && formMealDetails.tax-rate.$error.required">Tax rate is required</span>
                <span class="error" ng-if="formMealDetails.$submitted && formMealDetails.tip-percentage.$error.required">Tip percentage is required</span>
            </form>
		</div>
        <div class="col-md-4" ng-controller="customerChargesController">
            <div class="row">
                <div class="col-md-12">
                    <h3>Customer Charges</h3>
                    <p>Subtotal {{customerCharges.subtotal}}</p>
                    <p>Tip {{customerCharges.tip}}</p>
                    <p>Total {{customerCharges.total}}</p>
                </div>
            </div>
             <div class="row">
                <div class="col-md-12" ng-controller="earningsController">
                    <h3>My Earnings Info</h3>
                    <p>Tip Total {{earnings.tipTotal}}</p>
                    <p>Meal Count {{earnings.mealCount}}</p>
                    <p>Average Tip Per Meal {{earnings.averageTipPerMeal}}</p>
                </div>
            </div>
        </div>
        <div class="col-md-2">
            <button ng-click="reset()">Reset</button>
        </div>
      </div>

    </div> <!-- /container -->


    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="app_files/ie10-viewport-bug-workaround.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.11/angular.min.js" type="text/javascript"></script>
    <script src="js/main.js" type="text/javascript"></script>

</body></html>